<project
    name = "composite-metrics"
    description = "Agent that computes new metrics from bunch of other metrics"
    script = "zproject.gsl"
    email = "bios@eaton.com"
    url = "https://eaton.com/"
    license = "GPL-2.0+"
    >

    <target name = "debian" />
    <target name = "redhat" />

    <include filename = "license.xml" />
    <version major = "0" minor = "1" patch = "0" />

    <use project = "czmq" />
    <use project = "malamute" />

    <use project = "biosproto" libname = "libbiosproto" prefix="biosproto"
        min_major = "0" min_minor = "0" min_patch = "0"
        repository = "https://stash.mbt.lab.etn.com/BIOS/libbiosproto"
        test = "bios_proto_test">
        <use project = "malamute"/>
    </use>

    <use project = "lua" libname = "lua" prefix="lua"
        min_major = "5" min_minor = "1" mit_patch = "0"
        repository = "https://github.com/lua/lua"
        includename = "lua" debian_name="liblua5.1-0-dev"
        test = "lua_close" />

    <use project = "cxxtools" test="cxxtools::Utf8Codec::Utf8Codec"/>

    <class name = "logger"                      private = "1">logging api</class>
    <class name = "subprocess"                  private = "1">C++ Wrapper around cxxtools::Fork</class>
    <class name = "actor commands"              private = "1">actor commands</class>
    <class name = "data"                        private = "1">composite metrics data structure</class>
    <class name = "proto-metric-unavailable"    private = "1">metric unavailable protocol send part</class>
    <class name = "c_metric_conf"               private = "1">structure that represents current start of composite-metrics-configurator</class>

    <class name = "bios_composite_metrics_server">Composite metrics server</class>
    <class name = "bios_composite_metrics_configurator_server">Composite metrics server configurator</class>

    <main  name = "composite-metrics" service = "1">Metrics calculator</main>
    <main  name = "composite-metrics-configurator" service = "1">Metrics calculator configurator</main>

</project>
